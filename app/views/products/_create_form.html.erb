<%= form_for(@product) do |f| %>

  <!-- エラーメッセージ -->
  <%= render 'shared/error_messages', object: f.object %>

  <!--==================
  アプリタイトル
  ====================-->
  <div class="panel panel-primary" style="margin-top:30px;">
    <div class="panel-heading">
      <h2 class="panel-title glyphicon glyphicon-pencil">
        <span class="input-header">アプリネーム</span> <span class="require2">＊必須</span>
      </h2>
    </div>
    <div class="panel-body">
      <%= f.text_field :appname, class: 'form-control', autofocus: true %>
      <p></p>
    </div>
    <div class="panel-footer">
      <span class="glyphicon glyphicon-exclamation-sign"></span>
      アプリネームを50文字以内で入力して下さい。
    </div>
  </div>
  <!--==================
  アプリ概要
  ====================-->
  <div class="panel panel-primary">
    <div class="panel-heading">
      <h2 class="panel-title glyphicon glyphicon-pencil">
        <span class="input-header">アプリ概要</span> <span class="require2">＊必須</span>
      </h2>
    </div>
    <div class="panel-body">
      <%= f.text_area :summary, :size=>"70x3", class: 'form-control' %>
      <p></p>
    </div>
    <div class="panel-footer">
      <span class="glyphicon glyphicon-exclamation-sign"></span>
      アプリ概要はアプリ一覧に表示されます。250文字以内で入力して下さい。
    </div>
  </div>
  <!--==================
  アプリ詳細
  ====================-->
  <div class="panel panel-primary">
    <div class="panel-heading">
      <h2 class="panel-title glyphicon glyphicon-pencil">
        <span class="input-header">アプリ詳細説明</span> <span class="require2">＊必須</span>
      </h2>
    </div>
    <div class="panel-body">
      <%= f.text_area :description, :size=>"70x7", class: 'form-control' %>
      <p></p>
    </div>
    <div class="panel-footer">
      <span class="glyphicon glyphicon-exclamation-sign"></span>
      アプリの詳細説明を記入して下さい。(文字数制限なし)
    </div>
  </div>
  <!--==================
  カテゴリ
  ====================-->
  <div class="panel panel-primary">
    <div class="panel-heading">
      <h2 class="panel-title glyphicon glyphicon-pencil">
        <span class="input-header">カテゴリ</span> <span class="require2">＊必須</span>
      </h2>
    </div>
    <div class="panel-body">
      <%= f.select :category, category_list, 
                                    {:selected => @product.category, :prompt => true},
                                    class: 'form-control' %>
      <p></p>
    </div>
    <div class="panel-footer">
      <span class="glyphicon glyphicon-exclamation-sign"></span>
      アプリの対応するカテゴリを一つ選択して下さい。
    </div>
  </div>
  <!--==================
  価格
  ====================-->
  <div class="panel panel-primary">
    <div class="panel-heading">
      <h2 class="panel-title glyphicon glyphicon-pencil">
        <span class="input-header">価格</span> <span class="require2">＊必須</span>
      </h2>
    </div>
    <div class="panel-body">
      <%= f.select :price, price_list, 
                                    {:selected => @product.price, :prompt => true},
                                    class: 'form-control' %>
      <p></p>
    </div>
    <div class="panel-footer">
      <span class="glyphicon glyphicon-exclamation-sign"></span>
      アプリの価格を入力して下さい。
    </div>
  </div>
  <!--==================
  対応機種
  ====================-->
  <%= hidden_field_tag 'product[model]' %> <!--#カスタムバリデート用 -->
  <div class="panel panel-primary">
    <div class="panel-heading">
      <h2 class="panel-title glyphicon glyphicon-pencil">
        <span class="input-header">対応機種</span> <span class="require2">＊必須</span>
      </h2>
    </div>
    <div class="panel-body">
      <table border=0>
        <tr>
          <td width=20><%= f.check_box :model_iphone, :checked => @product.model_iphone,class: 'form-control' %></td>
          <td width=70>iPhone</td>
        
          <td width=20><%= f.check_box :model_android, :checked => @product.model_android,class: 'form-control' %></td>
          <td width=70>Android</td>
        
          <td width=20><%= f.check_box :model_web, :checked => @product.model_web,class: 'form-control' %></td>
          <td width=100>Webゲーム</td>
        </tr>
      </table>
      <p></p>
    </div>
    <div class="panel-footer">
      <span class="glyphicon glyphicon-exclamation-sign"></span>
      アプリの対応機種を選択して下さい。(複数可)
    </div>
  </div>
  <!--==================
  アプリアイコン
  ====================-->
  <div class="panel panel-primary">
    <div class="panel-heading">
      <h2 class="panel-title glyphicon glyphicon-camera">
        <span class="input-header">アプリアイコン</span> <span class="require2">＊必須</span>
      </h2>
    </div>
    <div class="panel-body">
      <%= f.file_field :img_icon, onchange:"fileIconImage(event,'disp')",class: 'form-control' %>
      <%= f.hidden_field :img_icon_cache %>
      <p></p>
      
      <div id="disp">
        <% if @product.img_icon? %>
          <%= image_tag @product.img_icon.url %>
          <%= f.check_box :remove_img_icon %>削除する
        <% end %>
      </div>
      <p></p>
    </div>
    <div class="panel-footer">
      <span class="glyphicon glyphicon-exclamation-sign"></span>
      アップロードできるファイルタイプは、jpg, jpeg, gif, png, bmp, tiff です。<br class="hidden-xs">
      画像は概ね正方形でお願いします。大きさは自動的に100px 100pxにリサイズされます。
    </div>
  </div>
  <!--==================
  スクリーンショット
  ====================-->
  <div class="panel panel-primary">
    <div class="panel-heading">
      <h2 class="panel-title glyphicon glyphicon-camera">
        <span class="input-header">スクリーンショット</span> <span class="require2">＊必須</span>
      </h2>
    </div>
    <div class="panel-body">
      
      <span class="require">＊一枚は必須です</span>
      <%= f.file_field :img_screenshot_01, onchange:"fileScreenShot(event,'screen_01')",class: 'form-control' %>
      <%= f.hidden_field :img_screenshot_01_cache %>
      <p></p>
      <div id="screen_01">
        <% if @product.img_screenshot_01? %>
          <%= image_tag @product.img_screenshot_01.url %>
          <%= f.check_box :remove_img_screenshot_01 %>削除する
        <% end %>
      </div>
      <p></p>

      <span class="option">＊以降はオプション</span>
      <%= f.file_field :img_screenshot_02, onchange:"fileScreenShot(event,'screen_02')",class: 'form-control' %>
      <%= f.hidden_field :img_screenshot_02_cache %>
      <p></p>
      <div id="screen_02">
        <% if @product.img_screenshot_02? %>
          <%= image_tag @product.img_screenshot_02.url %>
          <%= f.check_box :remove_img_screenshot_02 %>削除する
        <% end %>
      </div>
      <p></p>

      <%= f.file_field :img_screenshot_03, onchange:"fileScreenShot(event,'screen_03')",class: 'form-control' %>
      <%= f.hidden_field :img_screenshot_03_cache %>
      <p></p>
      <div id="screen_03">
        <% if @product.img_screenshot_03? %>
          <%= image_tag @product.img_screenshot_03.url %>
          <%= f.check_box :remove_img_screenshot_03 %>削除する
        <% end %>
      </div>
      <p></p>

      <%= f.file_field :img_screenshot_04, onchange:"fileScreenShot(event,'screen_04')",class: 'form-control' %>
      <%= f.hidden_field :img_screenshot_04_cache %>
      <p></p>
      <div id="screen_04">
        <% if @product.img_screenshot_04? %>
          <%= image_tag @product.img_screenshot_04.url %>
          <%= f.check_box :remove_img_screenshot_04 %>削除する
        <% end %>
      </div>
      <p></p>

      <%= f.file_field :img_screenshot_05, onchange:"fileScreenShot(event,'screen_05')",class: 'form-control' %>
      <%= f.hidden_field :img_screenshot_05_cache %>
      <p></p>
      <div id="screen_05">
        <% if @product.img_screenshot_05? %>
          <%= image_tag @product.img_screenshot_05.url %>
          <%= f.check_box :remove_img_screenshot_05 %>削除する
        <% end %>
      </div>
      <p></p>

    </div>
    <div class="panel-footer">
      <span class="glyphicon glyphicon-exclamation-sign"></span>
      アップロードできるファイルタイプは、jpg, jpeg, gif, png, bmp, tiff です。<br class="hidden-xs">
      大きさは縦横比率を維持したまま、300px にリサイズされます。<br class="hidden-xs">
      なお最低1枚は必須で、最大5枚まで登録できます。
    </div>
  </div>



  <%= f.submit "登録する", class: "btn btn-primary" %>

<% end %>

<!--===================
 画像読み込みアラート
===================-->
<div class="modal fade" id="alert_undefined_img">
  <%= render 'shared/alert_undefined_img' %>
</div>
